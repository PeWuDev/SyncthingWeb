@using System.Threading.Tasks
@using SyncthingWeb.ViewComponents
@model SyncthingWeb.ViewComponents.SmallMenuViewModel

<ul class="dropdown-menu">
    <!-- The user image in the menu -->
    <li class="user-header">
        @await Component.InvokeAsync("Gravatar", new { size = 160, userEmail = User.Identity.Name, additionalClass = "user-image" })
        <p>
            @User.Identity.Name
            <small>Member since ...</small>
        </p>
    </li>
    <!-- Menu Body -->
    @*<li class="user-body">
            <div class="col-xs-4 text-center">
                <a href="#">Followers</a>
            </div>
            <div class="col-xs-4 text-center">
                <a href="#">Sales</a>
            </div>
            <div class="col-xs-4 text-center">
                <a href="#">Friends</a>
            </div>
        </li>*@
    <!-- Menu Footer-->
    <li class="user-footer">
        <div class="pull-left">
            <a href="@Url.Action("Index", "Manage", new { area = "Users" })" class="btn btn-default btn-flat">Profile</a>
        </div>

        @if (Model.IsSuperAdmin)
        {
            <div class="pull-left">
                <a href="@Url.Action("Configuration", "Home", new {area = "Setup"})" class="btn btn-default btn-flat">Admin zone</a>
            </div>
        }

        <div class="pull-right">
            @using (Html.BeginForm("LogOff", "Account", new { area = "" }, FormMethod.Post, true, new { @class = "inline" }))
            {
                <button type="submit" class="btn btn-default btn-flat">Sign out</button>
            }
        </div>
    </li>
</ul>